name: inverse
layout: true
class: center, middle, inverse
---
# Classiで<br>採用してるCSS戦略
廣池　颯人
---
layout:false
## まずはじめに
もともと予定していた「WebAudioApiで遊んでみた」が全然間に合わなかったので別の話題にしました。
<br>
<br>
ごめんなさい 🙇
---
## Classiの現状
* 3年前から継ぎ足されていた秘伝のタレ
* 年度でナンバリングされているCSS
* mainと名のつくCSSが複数....
# 辛い！！！
---
## デザイナーも...
* 1サービスにしては多すぎる画面数
* 何も統一されていないレイアウト
* チーム内の統一の難しさ
# 辛い！！！
---
## 共通デザイン戦略
* デザイナーが今後共通で使うデザインをまとめた資料を作った
* それに合わせてCSSを設計、実際のサービスに反映
<br>
<br>
のはずだった....
---
## 過去に失敗した共通デザイン
* CSSは共通にしていたが、展開するための準備ができていなかった。
* 過去の共通したレイアウトをまとめただけだった。
* エンジニアだけで推し進めたためデザイナーの思う共通デザインになっていなかった。
---
## 新しい共通デザイン
* デザイナー中心の共通デザイン
* それらをwebで利用するためのCSS
<br>
<br>
## 理想郷だ！
---
## そこで出ていた問題
* 特定のプロジェクトに入れ込んだ形で共通CSSを作ってしまっていた。
* 共通、といいつつそのプロジェクトでしか使わないようなものも共通の場所に入っていたり...
* プロジェクトに特化したコードがちらほら...
---
## 最初にしたこと
<br>
<br>
# まずはコードを抜き出す！！
---
## 最初にしたこと part2
* 別リポジトリに共通CSS用のリポジトリを用意
* プロジェクトでは共通のリポジトリで生成したcssのみを使う(当然修正禁止)
* 共通で使う特別なものだという位置づけをつけた
---
## 誰でもどこでも使いやすく
* ほんとに共通なものだけを抜き出す
  * プロジェクトのみのコードはチームで相談しプロジェクト側に寄せた
* 共通CSSを利用するためのサンプルコード
  * DOM構成などをひと目で分かるように
  * 見た目的な例を出すことで利用する場所を検討しやすく
---
## 誰でもどこでも使いやすく part2
* ネストを深くても3階層までにした
  * 共通のモジュールは統一した命名規則でおいてるのでそれ以下の要素は内部で自由に決め、*ネストさせない*
    * 1階層：モジュール名
    * 2階層：モジュールで利用するクラス
    * 3階層：2階層で使う状態クラス
  * プロジェクトで使う際に*上書きしやすい*ように    
* 何を持ってそのモジュールとするのかを徹底して整理
  * 次へ続く
---
## 最低限なモジュールへ
* 色、サイズ、形、ライン等などをそのモジュールで必須な項目化を検討
* ボタンの場合
  * 色は必須
  * サイズも標準サイズはあっていい
  * ボタンに対してのmarginはそれぞれで良さそう
* ヘッダの場合
  * ラインは必須
  * 使う場所も限られるのでヘッダに対してもmarginは固定で良さそう
  * サイズは決めなくていい
---
## その結果
* デザイナーとプログラマの間で基本的な要素はやり取りをする必要がなくなった
  * これはあのデザインぽん置きで、みたいなやりとりが可能に
  * ほとんどmarginとpadding、プロジェクトごとの独自要素だけの会話で済むように
* CSSに精通してないエンジニアでもさくっとレイアウトできるように
  * *某社員「これコピペして置くだけでいいの、簡単でいいね」*
* 共通なので*CDNでの配信ができて*軽量 + 高速は配信へ     
---
## さいごに
とはいえ、これを適用できているのは一部画面のみ...
<br>
<br>
<br>
# 俺達の戦いはこれからだ！！！
xxx先生の次回作にご期待下さい！
---
